## 目标
- 只同步“任务清单”内容（`- [ ]`/`- [x]`）在“闪念/笔记”与“待办”间双向一致。
- 在“待办”卡片右上角新增“跳转到源笔记”按钮，进入笔记并锚定到任务具体位置。
- 构建包含改造的本地 Docker 镜像并在你的机器上运行，预览效果。

## 后端
- 在 `server/routerTrpc/note.ts` 的 `upsert` 成功后解析正文任务清单（忽略代码块），生成/更新对应 `NoteType.TODO`，写入 `metadata={originNoteId,lineHash,checked,position}`，并建立 `noteReference` 指向源笔记；删除的任务行对应 TODO 进回收。
- 更新 TODO 时按 `lineHash` 回写源笔记对应行，仅替换该任务行文本与勾选状态，不改动其他内容。
- 冲突处理：根据 `lineHash` 与邻近位置匹配；无法定位时保留 TODO 并提示。

## 前端
- 在 `app/src/components/BlinkoCard/cardHeader.tsx` 为 `NoteType.TODO` 增加“跳转到源笔记”按钮（当存在 `metadata.originNoteId`）。
- 在 `app/src/components/Common/MarkdownRender/ListItem.tsx` 为每个任务项渲染 `id=lineHash`；详情页读取 `anchor` 并滚动高亮到该行。

## 构建与部署（Docker）
- 使用仓库 `dockerfile` 本地构建镜像（包含改造代码）。
- 使用 `docker-compose.yml` 启动 Postgres 与网站，端口 `1111`。
- 保留你现有容器网络配置，确保一键预览 `http://localhost:1111`。

## 验证
- 新建含两段任务清单的笔记；“待办”自动生成两条；双向修改文本/勾选可同步；“跳转”按钮可定位到源笔记具体任务行。

## 交付顺序
1) 落地后端解析/映射/回写；2) 前端按钮与锚点；3) 构建本地镜像并拉起容器；4) 验证并调整。